"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[523],{4523:(s,e,a)=>{a.r(e),a.d(e,{default:()=>v});var t=a(7692),l=(a(255),a(550),a(3623)),i=a(2791),n=a(9434),d=a(4338),c=a(2426),r=a.n(c),o=a(6372),h=a(184);const x=s=>{let{amb:e,toggleWithdrawal:a,setToggleWithdrawal:t,formatMoney:l}=s;const[n,d]=(0,i.useState)(!1),[c,r]=(0,i.useState)(""),[x,m]=(0,i.useState)(!1),[j,u]=(0,i.useState)({Amount:"",ID:""}),p=s=>{const{id:e,value:a}=s.target;u((s=>({...s,[e]:a})))},v=()=>{let s=e.payout+Number(j.Amount),a=e.availableBal-Number(j.Amount);j.Amount>e.availableBal?(r("Error: Insufficient Fund!"),m(!0)):j.ID!==e.code?(r("Error: Incorrect Id!"),m(!0)):(async s=>{try{await o.qA.put("/admin/amb-edit/".concat(e._id),s),u({Amount:"",ID:""}),t((s=>!s)),r("Transaction Successful!"),m(!0)}catch(a){r("Transaction Failed!")}})({availableBal:a,payout:s})};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("section",{style:{transform:a&&"translateX(".concat(0,"%)")},className:"modal-container",children:(0,h.jsxs)("div",{className:"withdraw-box",children:[(0,h.jsxs)("div",{className:"withdraw-top-text",children:[(0,h.jsx)("h3",{children:"Withdraw"}),(0,h.jsx)("i",{onClick:()=>t((s=>!s)),className:"fa-solid fa-xmark noti-close colored-hover"})]}),(0,h.jsxs)("div",{className:"withdraw-wrapper",children:[(0,h.jsxs)("div",{className:"withdraw-stats",children:[(0,h.jsxs)("div",{className:"stat-wrapper",children:[(0,h.jsx)("button",{className:"stat-tag pink-tag",children:"Earning"}),(0,h.jsx)("p",{className:"-stat",children:l(e.totalEarning)})]}),(0,h.jsxs)("div",{className:"stat-wrapper",children:[(0,h.jsx)("button",{className:"stat-tag black-tag",children:"Balance"}),(0,h.jsx)("p",{className:"-stat",children:l(e.availableBal)})]}),(0,h.jsxs)("div",{className:"stat-wrapper  ",children:[(0,h.jsx)("button",{className:"stat-tag green-tag",children:"PayOut"}),(0,h.jsx)("p",{className:"-stat",children:l(e.payout)})]})]}),(0,h.jsxs)("form",{onSubmit:s=>{s.preventDefault(),v()},className:"withdraw-form",children:[(0,h.jsx)("label",{className:"Abs-label",htmlFor:"Amount",children:(0,h.jsx)("input",{id:"Amount",type:"number",value:j.Amount,onChange:p,placeholder:"Amount...",spellCheck:!1,autoComplete:"off",required:!0})}),(0,h.jsxs)("label",{className:"-Abs-label",htmlFor:"ID",children:[(0,h.jsx)("input",{id:"ID",type:n?"text":"password",value:j.ID,onChange:p,placeholder:"Enter id...",spellCheck:!1,autoComplete:"off",required:!0}),n?(0,h.jsx)("i",{onClick:()=>d((s=>!s)),className:"fa-solid fa-eye viewPwd"}):(0,h.jsx)("i",{onClick:()=>d((s=>!s)),className:"fa-solid fa-eye-slash viewPwd"})]}),(0,h.jsx)("button",{className:"withdraw-btn",children:"withdraw"})]})]})]})}),(0,h.jsx)("section",{className:"modal-container",style:{transform:x&&"translateX(".concat(0,"%)")},children:(0,h.jsxs)("div",{className:"modal-box",children:["Transaction Successful!"===c?(0,h.jsx)("i",{className:"fa-solid fa-circle-check fa-2x success-icon"}):(0,h.jsx)("i",{className:"fa-solid fa-circle-xmark fa-2x error-icon"}),(0,h.jsx)("p",{className:"modal-text",children:c}),(0,h.jsx)("div",{onClick:()=>{m(!1),r("")},className:"modal-btn",children:"Got it!"})]})})]})},m=s=>{let{amb:e,newId:a,setNewId:t,formatMoney:l,setToggleWithdrawal:i,setCurrent:n,uploadFile:d}=s;return(0,h.jsxs)("li",{className:"Abs",children:[(0,h.jsxs)("section",{className:"Abs-info-section",children:[(0,h.jsxs)("div",{className:"Abs-img-wrapper",children:[(0,h.jsx)("img",{className:"Abs-img",src:e.picture,alt:"Ambassador-img"}),(0,h.jsxs)("div",{className:"edit-Abs-img-wrapper",children:[(0,h.jsx)("div",{onClick:s=>{t(e._id)},className:"edit-Abs-img",children:(0,h.jsx)("label",{htmlFor:"edit-photo",children:"+"})}),(0,h.jsx)("input",{id:"edit-photo",type:"file",onChange:s=>{d(s.target.files[0],a,"picture")},hidden:!0})]})]}),(0,h.jsxs)("div",{className:"Abs-details",children:[(0,h.jsx)("p",{className:"Abs-name",children:"".concat(e.firstName," ").concat(e.lastName)}),(0,h.jsxs)("p",{className:"Abs-email",children:[Array.from(e.email).slice(0,17),Array.from(e.email).length>17?"...":null]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Code: "}),e.code]})]})]}),(0,h.jsxs)("section",{className:"Abs-stat-section",children:[(0,h.jsxs)("div",{className:"top-stats",children:[(0,h.jsxs)("div",{className:"stat-wrapper",children:[(0,h.jsx)("button",{className:"stat-tag green-tag",children:"Models"}),(0,h.jsx)("p",{className:"stat",children:e.models.length})]}),(0,h.jsxs)("div",{className:"stat-wrapper",children:[(0,h.jsx)("button",{className:"stat-tag pink-tag",children:"Active"}),(0,h.jsx)("p",{className:"stat",children:e.activeModels})]}),(0,h.jsxs)("div",{className:"stat-wrapper",children:[(0,h.jsx)("button",{className:"stat-tag black-tag",children:"Pending"}),(0,h.jsx)("p",{className:"stat",children:e.pendingModels})]})]}),(0,h.jsxs)("div",{className:"bottom-stats",children:[(0,h.jsxs)("div",{className:"stat-wrapper",children:[(0,h.jsx)("button",{className:"stat-tag pink-tag",children:"Earning"}),(0,h.jsx)("p",{className:"stat",children:l(e.totalEarning)})]}),(0,h.jsxs)("div",{className:"stat-wrapper",children:[(0,h.jsx)("button",{className:"stat-tag black-tag",children:"Balance"}),(0,h.jsx)("p",{className:"stat",children:l(e.availableBal)})]}),(0,h.jsxs)("div",{className:"stat-wrapper  ",children:[(0,h.jsx)("button",{onClick:()=>{i(!0),n(e),console.log(e._id)},className:"stat-tag green-tag",children:"PayOut"}),(0,h.jsx)("p",{className:"stat",children:l(e.payout)})]})]})]})]},e.code)};var j=a(4290),u=a(6831);const p=s=>{let{ambData:e,editPhoto:a}=s;const[t,l]=(0,i.useState)(!1),[n,d]=(0,i.useState)({}),[c,r]=(0,i.useState)(""),o=function(){return"#"+Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toLocaleString("en-US")},p=(s,e,t)=>{const l=(new Date).getTime()+s.name,i=(0,j.iH)(u.t,"/models/".concat(l)),n=(0,j.B0)(i,s);n.on("state_changed",(()=>{(0,j.Jt)(n.snapshot.ref).then((s=>{a(e,{[t]:s})}))}))};return(0,h.jsxs)("section",{className:"Ambassador-section",children:[(0,h.jsx)("h1",{className:"Abs-title",children:"Ambassadors"}),(0,h.jsx)("ul",{className:"Abs-list",children:0!==e.length?e.map((s=>(0,h.jsx)(m,{id:s._id,amb:s,uploadFile:p,formatMoney:o,setToggleWithdrawal:l,setCurrent:d,newId:c,setNewId:r},s.code))):(0,h.jsx)("div",{className:"Abs-not-found",children:"Ambassadors Not Found!"})}),(0,h.jsx)(x,{toggleWithdrawal:t,setToggleWithdrawal:l,formatMoney:o,amb:n})]})},v=()=>{const s=(0,n.I0)(),[e,a]=(0,i.useState)([]),[c,x]=(0,i.useState)([]),[m,j]=(0,i.useState)([]),[u,v]=(0,i.useState)([]),[g,b]=(0,i.useState)([]),[f,N]=(0,i.useState)([]),[w,y]=(0,i.useState)([]),[A,_]=(0,i.useState)([]),[k,S]=(0,i.useState)(""),[C,E]=(0,i.useState)(""),[M,I]=(0,i.useState)(""),[D,W]=(0,i.useState)(""),[L,P]=(0,i.useState)(""),[T,U]=(0,i.useState)("");(0,i.useEffect)((()=>{(0,d.PD)(s,"/user",a)}),[a,s]);const F=[...e].reverse();(0,i.useEffect)((()=>{let s=!0;return s&&(async()=>{const s=await o.WG.get("/model/models");x(s.data)})(),()=>{s=!1}}),[]);(0,i.useEffect)((()=>{let s=!0;return s&&(async()=>{const s=await o.WG.get("/client/clients");j(s.data)})(),()=>{s=!1}}),[]);(0,i.useEffect)((()=>{let s=!0;return s&&(async()=>{const s=await o.WG.get("/agency/");v(s.data)})(),()=>{s=!1}}),[]);(0,i.useEffect)((()=>{let s=!0;return s&&(async()=>{const s=await o.WG.get("/blog/blogs");b(s.data)})(),()=>{s=!1}}),[]);const G=[...g].reverse();(0,i.useEffect)((()=>{let s=!0;return s&&(async()=>{const s=await o.WG.get("/admin/stats");y(s.data)})(),()=>{s=!1}}),[]);(0,i.useEffect)((()=>{let s=!0;return s&&(async()=>{const s=await o.WG.get("/admin/login/stats");_(s.data)})(),()=>{s=!1}}),[]);(0,i.useEffect)((()=>{let s=!0;return s&&(async()=>{const s=await o.qA.get("/admin/ambassadors/all");N(s.data.models)})(),()=>{s=!1}}),[]);(0,i.useEffect)((()=>{const s=Array(12).fill(null);w.forEach((e=>{e._id>=1&&e._id<=12&&(s[e._id-1]=e.total)})),S(s)}),[w]),(0,i.useEffect)((()=>{const s=Array(12).fill(null);A.forEach((e=>{e.month>=1&&e.month<=12&&(s[e.month-1]=e.login)})),E(s)}),[A]),(0,i.useEffect)((()=>{I((null===c||void 0===c?void 0:c.length)+(null===u||void 0===u?void 0:u.length)+(null===m||void 0===m?void 0:m.length))}),[c,u,m]),(0,i.useEffect)((()=>{W(Math.round(100*(null===c||void 0===c?void 0:c.length)/M)),P(Math.round(100*(null===m||void 0===m?void 0:m.length)/M)),U(Math.round(100*(null===u||void 0===u?void 0:u.length)/M))}),[M,c,m,u]);const O={labels:["Jan","Feb","Mar","April","May","June","July","Aug","Sept","Oct","Nov","Dec"],datasets:[{label:"NEW USER",width:"10px",backgroundColor:"royalblue",data:k,barPercentage:.5,borderRadius:4},{label:"LOGINS",backgroundColor:"hotpink",data:C,barPercentage:.5,borderRadius:4}]},B={plugins:{legend:{display:!1}},cutout:"40%",radius:"100%"},R={labels:["Models","Agencies","Clients"],datasets:[{backgroundColor:["royalblue","hotpink","black"],data:[null===c||void 0===c?void 0:c.length,null===u||void 0===u?void 0:u.length,null===m||void 0===m?void 0:m.length]}]};return(0,h.jsx)("div",{id:"admin_dashboard",children:(0,h.jsxs)("div",{className:"pane",children:[(0,h.jsxs)("div",{id:"area_one",children:[(0,h.jsx)("div",{className:"holder",children:(0,h.jsxs)("div",{className:"visitor_stats",children:[(0,h.jsxs)("header",{children:[(0,h.jsx)("span",{children:"User Statistics"}),(0,h.jsxs)("span",{id:"key_holder",children:[(0,h.jsx)("span",{className:"key"}),"USERS",(0,h.jsx)("span",{className:"key"}),"LOGINS"]}),(0,h.jsx)("select",{name:"time_frame",id:"time_frame",children:(0,h.jsx)("option",{value:"6",children:"Last 6 days"})})]}),(0,h.jsx)("div",{id:"visitors_bar_chart",children:(0,h.jsx)(l.$Q,{data:O,options:{plugins:{legend:{display:!1}},scales:{y:{suggestedMax:30}},maintainAspectRatio:!1}})}),(0,h.jsx)("footer",{children:(0,h.jsxs)("span",{children:["Audience Overview ",(0,h.jsx)(t.U6L,{color:"#ff007a"})]})})]})}),(0,h.jsx)("div",{id:"recent_members",children:(0,h.jsxs)("table",{id:"recent_members_table",children:[(0,h.jsx)("caption",{children:(0,h.jsx)("h3",{children:"Recent Members"})}),(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"Username"}),(0,h.jsx)("th",{children:"Level"}),(0,h.jsx)("th",{children:"Joined"})]})}),(0,h.jsx)("tbody",{children:null===F||void 0===F?void 0:F.slice(0,4).map(((s,e)=>(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:(0,h.jsxs)("div",{className:"profile",children:[(0,h.jsx)("div",{className:"profile_image",children:(0,h.jsx)("img",{src:null!==s&&void 0!==s&&s.picture?null===s||void 0===s?void 0:s.picture:"/images/avatar2.png",alt:"profilepic"})}),(0,h.jsxs)("div",{className:"profile_name",children:[(0,h.jsxs)("div",{children:[null===s||void 0===s?void 0:s.firstName," "]}),(0,h.jsx)("div",{children:null===s||void 0===s?void 0:s.lastName})]})]})}),(0,h.jsx)("td",{children:null===s||void 0===s?void 0:s.role}),(0,h.jsx)("td",{children:r()(null===s||void 0===s?void 0:s.createdAt).format("MMMM DD, YYYY")})]},e)))}),(0,h.jsx)("tfoot",{children:(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:4,children:(0,h.jsxs)("span",{children:["View All Members ",(0,h.jsx)(t.U6L,{})]})})})})]})}),(0,h.jsx)("div",{id:"activity",children:(0,h.jsxs)("table",{id:"activities_table",children:[(0,h.jsxs)("caption",{children:[(0,h.jsx)("h3",{children:"Activity"}),(0,h.jsx)("p",{children:"Recently Published"})]}),(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"DATE & TIME"}),(0,h.jsx)("th",{children:"POSTS"})]})}),(0,h.jsx)("tbody",{children:null===G||void 0===G?void 0:G.slice(0,5).map(((s,e)=>(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:r()(s.createdAt).fromNow()}),(0,h.jsx)("td",{children:null===s||void 0===s?void 0:s.title})]},e)))}),(0,h.jsx)("tfoot",{children:(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:2,children:(0,h.jsxs)("span",{children:["Recent Comments ",(0,h.jsx)(t.U6L,{})]})})})})]})})]}),(0,h.jsxs)("section",{id:"area_two",children:[(0,h.jsxs)("section",{id:"group_stats",children:[(0,h.jsxs)("div",{className:"group_stats_box",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:"Models"}),(0,h.jsx)("div",{children:c.length})]}),(0,h.jsx)("div",{children:(0,h.jsx)(l.$I,{data:{datasets:[{backgroundColor:["#bfc4c9","royalblue"],data:[14409,10566]}]},options:B})})]}),(0,h.jsxs)("span",{className:"group_stats_box",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:"Agencies"}),u.length]}),(0,h.jsx)("div",{children:(0,h.jsx)(l.$I,{data:{datasets:[{backgroundColor:["#bfc4c9","hotpink"],data:[14409,1365]}]},options:B})})]}),(0,h.jsxs)("span",{className:"group_stats_box",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:"Clients"}),m.length]}),(0,h.jsx)("div",{children:(0,h.jsx)(l.$I,{data:{datasets:[{backgroundColor:["#bfc4c9","black"],data:[14409,2468]}]},options:B})})]})]}),(0,h.jsxs)("section",{id:"wallet_buttons",children:[(0,h.jsxs)("button",{id:"active",children:[(0,h.jsx)(t.cf2,{size:20}),(0,h.jsx)("span",{children:"AGENCY WALLET"})]}),(0,h.jsxs)("button",{children:[(0,h.jsx)(t.cf2,{size:20}),(0,h.jsx)("span",{children:"MODEL WALLET"})]})]}),(0,h.jsx)("section",{className:"holder",children:(0,h.jsxs)("div",{id:"donught_chart_holder",children:[(0,h.jsxs)("header",{children:[(0,h.jsx)("span",{children:"Users Pie Chart History"}),(0,h.jsx)(t.t5J,{size:30,color:"#66788A"})]}),(0,h.jsxs)("div",{id:"donught_chart",children:[(0,h.jsx)("div",{children:(0,h.jsx)(l.$I,{data:R,options:{plugins:{legend:{display:!1}},cutout:"80%"}})}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{id:"models_key"}),(0,h.jsx)("span",{className:"name",children:"Models"}),(0,h.jsxs)("span",{id:"models_size",children:[D,"%"]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{id:"agencies_key"}),(0,h.jsx)("span",{className:"name",children:"Agencies"}),(0,h.jsxs)("span",{id:"agencies_size",children:[T,"%"]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{id:"clients_key"}),(0,h.jsx)("span",{className:"name",children:"Clients"}),(0,h.jsxs)("span",{id:"clients_size",children:[L,"%"]})]})]})]}),(0,h.jsxs)("footer",{children:[(0,h.jsx)("select",{name:"time_frame",id:"time_frame",children:(0,h.jsx)("option",{value:"6",children:"Last 6 days"})}),(0,h.jsxs)("span",{children:["Users Overview",(0,h.jsx)(t.U6L,{})]})]})]})}),(0,h.jsx)(p,{ambData:f,editPhoto:async(s,e)=>{try{const a=await o.qA.put("/admin/amb-edit/".concat(s),e);console.log(a.data)}catch(t){var a;console.log(null===t||void 0===t||null===(a=t.response)||void 0===a?void 0:a.data)}finally{const s=await o.qA.get("/admin/ambassadors/all");N(s.data.models)}}})]})]})})}},255:(s,e,a)=>{s.exports=a.p+"static/media/slider3.fb8983cf393b94da56ee.jpg"}}]);
//# sourceMappingURL=523.183d1555.chunk.js.map