"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[522],{927:(e,a,n)=>{n.d(a,{Z:()=>t});n(2791);const t=n.p+"static/media/avatar.8281e2617447743e5756c9ffb0e8da2d.svg"},7290:(e,a,n)=>{n.d(a,{Z:()=>r});n(2791);var t=n(184);const r=e=>{let{variant:a,children:n,className:r}=e;switch(a){case"flexFit":r="flex-fit";break;case"flexed":r="flex-bw";break;case"normal":r="container";break;case"container_fit":r="container_fit";break;case"gapped":r="gapped";break;case"gapped-spaced":r="nav-flex-bw";break;case"gapped-top":r="gapped-top";break;case"gapped-top-center":r="gapped-top-center";break;case"flex-around":r="flex-around"}return(0,t.jsx)("main",{className:r,variant:a,children:n})}},307:(e,a,n)=>{n.d(a,{Z:()=>r});n(2791);var t=n(184);const r=e=>{let{onChange:a=(e=>null),type:n="",className:r,name:s,checked:l,placeholder:i="",variant:c,max:d,value:o}=e;switch(c){case"normal":r="input";break;case"checkbox":r="checkbox";break;case"number":r="number";break;case"search":r="search"}return(0,t.jsx)("input",{placeholder:i,name:s,type:n,value:o,max:d,checked:l,onChange:a,className:r})}},3022:(e,a,n)=>{n.d(a,{Z:()=>d});n(2791);var t=n(5050),r=n(7290),s=n(6189),l=n(184);const i=(0,s.Z)((0,l.jsx)("path",{d:"M15.61 7.41 14.2 6l-6 6 6 6 1.41-1.41L11.03 12l4.58-4.59z"}),"NavigateBeforeOutlined"),c=(0,s.Z)((0,l.jsx)("path",{d:"M10.02 6 8.61 7.41 13.19 12l-4.58 4.59L10.02 18l6-6-6-6z"}),"NavigateNextOutlined"),d=e=>{let{currentPage:a,totalPages:n,onPageChange:s,handleNextClick:d,handlePrevClick:o}=e;const h=Array.from({length:n},((e,a)=>a+1));return(0,l.jsxs)(r.Z,{className:"Pagination",children:[(0,l.jsx)(t.Z,{className:"Pagination__button Pagination__button--arrow",onClick:o,disabled:a<=1,children:(0,l.jsx)(i,{})}),(()=>{let e=[];return e=n<=5?h:a<=3?h.slice(0,5):a>n-3?h.slice(n-5,n):h.slice(a-3,a+2),e.map((e=>(0,l.jsx)("button",{className:"Pagination__button ".concat(e===a?"Pagination__button--active":""),onClick:()=>(e=>{e<1||e>n||e===a||s(e)})(e),children:e},e)))})(),(0,l.jsx)(t.Z,{className:"Pagination__button Pagination__button--arrow",onClick:d,disabled:a>=n,children:(0,l.jsx)(c,{})})]})}},3631:(e,a,n)=>{n.d(a,{Z:()=>s});var t=n(2791),r=(n(7676),n(184));const s=e=>{let{isOpen:a,onClose:n,children:s}=e;const[l,i]=(0,t.useState)(a);return(0,r.jsx)("div",{className:a?"modal-overlay ":"modal-hiden",children:(0,r.jsx)("div",{className:"modal",children:(0,r.jsx)("div",{className:"modal-content",children:s})})})}},3522:(e,a,n)=>{n.r(a),n.d(a,{default:()=>w});var t=n(2791),r=n(5050),s=n(7290);const l={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i;const c=new Uint8Array(16);function d(){if(!i&&(i="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(c)}const o=[];for(let P=0;P<256;++P)o.push((P+256).toString(16).slice(1));function h(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o[e[a+0]]+o[e[a+1]]+o[e[a+2]]+o[e[a+3]]+"-"+o[e[a+4]]+o[e[a+5]]+"-"+o[e[a+6]]+o[e[a+7]]+"-"+o[e[a+8]]+o[e[a+9]]+"-"+o[e[a+10]]+o[e[a+11]]+o[e[a+12]]+o[e[a+13]]+o[e[a+14]]+o[e[a+15]]}const u=function(e,a,n){if(l.randomUUID&&!a&&!e)return l.randomUUID();const t=(e=e||{}).random||(e.rng||d)();if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,a){n=n||0;for(let e=0;e<16;++e)a[n+e]=t[e];return a}return h(t)};n(389);var x=n(8077),m=n(184);var p=n(7689);const v=e=>{let{users:a,handleQuery:n}=e;const t=(0,p.s0)(),l=a.filter((e=>"model"===e.role)),i=a.filter((e=>"agency"===e.role)),c=a.filter((e=>"client"===e.role)),d=[{name:"All",number:null===a||void 0===a?void 0:a.length},{name:"Model",number:null===l||void 0===l?void 0:l.length},{name:"Client",number:null===c||void 0===c?void 0:c.length},{name:"Agency",number:null===i||void 0===i?void 0:i.length}];return(0,m.jsxs)("div",{className:"user-header",children:[(0,m.jsxs)(s.Z,{variant:"gapped",children:[(0,m.jsx)(r.Z,{variant:"transparent",children:"Users"}),(0,m.jsx)(r.Z,{variant:"outlined",onClick:()=>{t("/adminpage/users/add_user")},children:"Add New"})]}),(0,m.jsxs)(s.Z,{variant:"flexed",children:[(0,m.jsx)(s.Z,{variant:"gapped",children:d.map((e=>(0,m.jsxs)("div",{id:u,className:"wrapper",children:[(0,m.jsxs)("p",{className:"item",children:[e.name," ",(0,m.jsx)("span",{children:e.number})]}),(0,m.jsx)("div",{className:"vr"})]})))}),(0,m.jsx)("input",{placeholder:"Search for user by email...",onChange:n,style:{padding:"15px",borderRadius:"10px"}})]})]})};var j=n(307),g=n(6372),b=(n(3241),n(927)),f=n(3631),k=n(1087),y=n(3022);const N=e=>{let{data:a,setIsDelete:n,isDelete:s}=e;const[l,i]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),[o,h]=(0,t.useState)(1),[u,p]=(0,t.useState)(20),v=null===a||void 0===a?void 0:a.length,N=Math.ceil(v/u),_=(o-1)*u,Z=_+u,C=null===a||void 0===a?void 0:a.slice(_,Z),w=()=>{i(!1)};return(0,m.jsxs)("div",{className:"table_container",children:[(0,m.jsxs)(f.Z,{isOpen:l,onClose:w,children:[(0,m.jsx)("p",{className:"modal-text",children:"Are you sure you want to delete this user? Action cannot be undone!"}),(0,m.jsxs)("div",{className:"btn-group",children:[(0,m.jsx)(r.Z,{variant:"outlined",onClick:w,children:"Cancel"}),(0,m.jsx)(r.Z,{variant:"secondary",onClick:()=>(async e=>{await g.WG.delete("/user/".concat(e)),n(!s),i(!1)})(c),children:"delete"})]})]}),(0,m.jsxs)("table",{className:"data-table2",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:(0,m.jsx)("label",{children:(0,m.jsx)(j.Z,{variant:"checkbox",type:"checkbox"})})}),(0,m.jsx)("th",{children:"User"}),(0,m.jsx)("th",{children:"Name"}),(0,m.jsx)("th",{children:"Email"}),(0,m.jsx)("th",{children:"Role"})]})}),(0,m.jsx)("tbody",{children:null===C||void 0===C?void 0:C.map(((e,a)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:(0,m.jsx)("label",{children:(0,m.jsx)(j.Z,{variant:"checkbox",type:"checkbox",name:e._id,value:e._id})})}),(0,m.jsx)("td",{children:(0,m.jsx)("div",{className:"table_img",children:(0,m.jsx)(x.Z,{width:60,height:50,src:e.picture?e.picture:b.Z,alt:e.picture})})}),(0,m.jsxs)("td",{children:[e.firstName," ",e.lastName]}),(0,m.jsx)("td",{children:e.email}),(0,m.jsx)("td",{children:e.role}),(0,m.jsx)("td",{children:(0,m.jsx)(k.rU,{to:"model"===e.role?"/adminpage/manage_models/".concat(e._id):"agency"===e.role?"/adminpage/manage_agency/".concat(e._id):"/adminpage/manage_clients/".concat(e._id),variant:"transparent",children:"edit"})}),(0,m.jsx)("td",{children:(0,m.jsx)(r.Z,{variant:"transparent",onClick:()=>{return a=e._id,i(!0),void d(a);var a},children:"delete"})})]},a)))})]}),(0,m.jsx)(y.Z,{currentPage:o,totalPages:N,onPageChange:e=>{h(e)},handlePrevClick:()=>{o>1&&h(o-1)},handleNextClick:()=>{o<N&&h(o+1)}})]})},_=e=>{let{reverse:a,setIsDelete:n,isDelete:t}=e;return(0,m.jsx)("div",{className:"table_container",children:(0,m.jsx)(N,{data:a,setIsDelete:n,isDelete:t})})};var Z=n(9434),C=n(4338);const w=()=>{const e=(0,Z.I0)(),[a,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!1),[l,i]=(0,t.useState)("");(0,t.useEffect)((()=>{let a=void(0,C.PD)(e,"/user/?user=".concat(l),n);return()=>a}),[r,l]);const c=[...a].reverse();return(0,m.jsxs)("div",{children:[(0,m.jsx)(v,{users:a,handleQuery:e=>{i(e.target.value.toLowerCase())}}),(0,m.jsx)(_,{reverse:c,isDelete:r,setIsDelete:s})]})}},3241:()=>{},7676:()=>{}}]);
//# sourceMappingURL=522.2b2740f4.chunk.js.map